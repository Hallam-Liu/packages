# Maintainer: Muhammad Herdiansyah <herdiansyah@netc.eu>

pkgname=cryptsetup-runit
pkgver=20180514
pkgrel=2
pkgdesc="runit stage1 script for cryptsetup"
arch=('any')
url="https://github.com/artix-linux"
license=('BSD3')
groups=('runit-system')
provides=('init-cryptsetup')
depends=('cryptsetup' 'runit')
conflicts=('init-cryptsetup')
source=('cryptsetup')
optdepends=('lvm2-runit: LVM support for encrypted filesystems')
sha256sums=('4c3288aef8b318c0ba9e5901f3c2fa3c20c847cfd2073a1c1d716c9f0e3043af')

package() {
    install -Dm755 "${srcdir}/cryptsetup" "${pkgdir}/usr/lib/rc/sv.d/cryptsetup"

    # create default symlinks?
#     install -d ${pkgdir}/etc/rc/{sysinit,shutdown}
#     ln -sf /usr/lib/rc/sv.d/cryptsetup ${pkgdir}/etc/rc/sysinit/35-cryptsetup
#     ln -sf /usr/lib/rc/sv.d/cryptsetup ${pkgdir}/etc/rc/shutdown/32-cryptsetup
}
